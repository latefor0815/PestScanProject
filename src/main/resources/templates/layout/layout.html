<!DOCTYPE html>
<html lang="ko"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title th:text="${title}">Pest Analysis Platform</title>

    <!-- 공통 CSS 파일 -->
    <link rel="stylesheet" href="/css/styles.css" th:href="@{/css/styles.css}">
  </head>
  <body>
    <!-- 공통 헤더 -->
    <header>
      <nav>
        <ul>
          <li><a href="/" th:href="@{/}">Home</a></li>
          <li><a href="/images/upload" th:href="@{/images/upload}">Upload Image</a></li>
          <li><a href="/about" th:href="@{/about}">About</a></li>
          <li><a href="/contact" th:href="@{/contact}">Contact</a></li>
          <li><a href="/insects" th:href="@{/insects}">Insects</a></li>


          <!-- 로그인 여부에 따라 로그인/로그아웃 및 회원가입 버튼을 동적으로 표시 -->
          <li th:if="${session.loggedInUser == null}">
            <a href="/users/login" th:href="@{/users/login}">Login</a>
          </li>
          <li th:if="${session.loggedInUser == null}">
            <a href="/users/signup" th:href="@{/users/signup}">Sign Up</a>
          </li>
          <li th:if="${session.loggedInUser != null}">
            <span th:text="${session.loggedInUser.username}">Username</span>
            <a href="/users/logout" th:href="@{/users/logout}">Logout</a>
          </li>
        </ul>
      </nav>
    </header>

    <!-- 본문 영역 -->
    <main>
      <div th:replace="${content}">Content will be here</div>
    </main>

    <!-- 공통 푸터 -->
    <footer>
      <p>&copy; 2024 Pest Analysis Platform</p>
      <p>Contact us at: info@pestanalysis.com</p>
    </footer>

    <!-- 공통 JavaScript 파일 -->
    <script src="/js/script.js" th:src="@{/js/script.js}"></script>
  </body>
</html>
